---
lab:
  title: إنشاء حل لاستخراج البيانات
  description: استخدم Azure AI Search لاستخراج المعلومات الأساسية من المستندات وتسهيل عملية البحث والتحليل.
---

# إنشاء حل لاستخراج البيانات

في هذا التمرين، يمكنك استخدام Azure AI Search لفهرسة مجموعة من المستندات التي تحتفظ بها شركة Margie's Travel، وهي وكالة سفر افتراضية. تتضمن عملية الفهرسة استخدام مهارات الذكاء الاصطناعي لاستخراج المعلومات الأساسية لجعلها قابلة للبحث، وإنشاء مخزن معلومات يحتوي على أصول البيانات لمزيد من التحليل.

على الرغم من أن هذا التمرين يستند إلى Python، يمكنك تطوير تطبيقات مماثلة باستخدام حزم SDK مخصصة للغات برمجة متعددة، منها:

- [مكتبة عميل Azure AI Search لـ Python](https://pypi.org/project/azure-search-documents/)
- [مكتبة عميل Azure AI Search لـ Microsoft .NET](https://www.nuget.org/packages/Azure.Search.Documents)
- [مكتبة عميل Azure AI Search لـ JavaScript](https://www.npmjs.com/package/@azure/search-documents)

يستغرق هذا التدريب حوالي **40** دقيقة.

## إنشاء موارد Azure

يتطلب الحل الذي ستُنشئه لصالح Margie's Travel موارد متعددة ضمن اشتراكك في Azure. في هذا التمرين، ستقوم بإنشائها مباشرةً في مدخل Microsoft Azure. يمكنك أيضا إنشاؤها باستخدام برنامج نصي أو من خلال قالب ARM أو BICEP؛ أو يمكنك إنشاء مشروع Azure AI Foundry يتضمّن مورد Azure AI Search.

> **مهم**: يجب إنشاء موارد Azure الخاصة بك في الموقع نفسه!

### إنشاء مورد كلام الذكاء الاصطناعي في Azure

1. في متصفح الويب، افتح [مدخل Microsoft Azure](https://portal.azure.com) عبر الرابط التالي `https://portal.azure.com`، وسجّل دخولًا باستخدام بيانات اعتماد Azure الخاصة بك.
1. حدّد زر **&#65291;إنشاء مورد**، وابحث عن `Azure AI Search`، ثم أنشئ مورد **Azure AI Search** باستخدام الإعدادات التالية:
    - **Subscription**: *اشتراكك في Azure*
    - **Resource group**: *إنشاء مجموعة موارد أو تحديدها*
    - **اسم الخدمة**: *اسم صالح لمورد البحث الخاص بك*
    - **الموقع**: *أي موقعٍ متاح*
    - **مستوى الأسعار**: Free

1. انتظر حتى يكتمل النشر، ثم انتقل إلى المورد المنشور.
1. راجع صفحة**نظرة عامة** على الجزء لمورد Azure AI Search في مدخل Microsoft Azure. هنا، يمكنك استخدام واجهة مرئية لإنشاء المكونات المختلفة لحل البحث واختبارها وإدارتها ومراقبتها؛ بما في ذلك مصادر البيانات والفهارس والمفهرسات ومجموعات المهارات.

### إنشاء حساب تخزين

1. عُد إلى الصفحة الرئيسية، ثم أنشئ مورد **حساب التخزين** باستخدام الإعدادات التالية:
    - **Subscription**: *اشتراكك في Azure*
    - **مجموعة الموارد**: *مجموعة الموارد نفسها مثل موارد Azure AI Search وAzure AI Services*
    - **اسم حساب التخزين**: *اسم صالح لمورد التخزين الخاص بك*
    - **المنطقة**: *الموقع نفسه كمورد بحث الذكاء الاصطناعي في Azure الخاص بك*
    - **الخدمة الأساسية**: تخزين Azure الكائن الثنائي كبير الحجم BLOB أوAzure Data Lake Storage Gen 2
    - **الأداء:** قياسي
    - **التكرار**: التخزين المتكرر محلياً (LRS)

1. انتظر حتى يكتمل النشر، ثم انتقل إلى المورد المنشور.

    > **تلميح**: احتفظ بصفحة مدخل حساب التخزين مفتوحة - ستستخدمها في الإجراء التالي.

## تحميل المستندات إلى Azure Storage

سيقوم حل جمع المعلومات باستخراج المعلومات من مستندات منشورات السفر في حاوية Blob ضمن Azure Storage.

1. في علامة تبويب جديدة في المتصفح، قم بتنزيل [documents.zip](https://github.com/microsoftlearning/mslearn-ai-information-extraction/raw/main/Labfiles/knowledge/documents.zip) من `https://github.com/microsoftlearning/mslearn-ai-information-extraction/raw/main/Labfiles/knowledge/documents.zip` واحفظه في مجلد محلي.
1. استخرج الملف *documents.zip*الذي تم تنزيله واعرض ملفات منشورات السفر التي يتضمّنها. ستقوم باستخراج المعلومات وفهرستها من هذه الملفات.
1. في علامة تبويب المتصفح التي تحتوي على صفحة مدخل Microsoft Azure لحساب التخزين الخاص بك، وفي جزء التنقل على اليمين، حدّد **مستعرض التخزين**.
1. في مستعرض التخزين، حدّد **حاويات Blob**.

    حاليًا، يجب أن يحتوي حساب التخزين الخاص بك على حاوية **$logs** الافتراضية فقط.

1. في شريط الأدوات، حدّد **+ حاوية** وأنشئ حاوية جديدة بالإعدادات التالية:
    - **الاسم:** `documents`
    - **مستوى الوصول المجهول**: خاص (ليس هناك وصول مجهول)\*

    > **ملاحظة**: \*ما لم تكن قد مكّنت خيار السماح بالوصول المجهول إلى الحاوية عند إنشاء حساب التخزين، فلن تتمكن من اختيار أي إعداد آخر!

1. حدّد حاوية **المستندات** لفتحها، ثم استخدم زر **تحميل** في شريط الأدوات لتحميل ملفات ‎.pdf التي سبق أن استخرجتها من ملف **documents.zip** إلى جذر الحاوية، كما هو موضح هنا:

    ![لقطة شاشة لمستعرض تخزين Azure تُظهر حاوية المستندات وما تحتويه من ملفات.](./media/blob-containers.png)

## إنشاء مفهرس وتشغيله

الآن بعد أن أصبحت المستندات في مكانها، يمكنك إنشاء مفهرس لاستخراج المعلومات منها.

1. في مدخل Microsoft Azure، استعرض وصولاً إلى مورد بحث الذكاء الاصطناعي في Azure. ثم، في صفحة **النظرة العامة،** حدد **استيراد البيانات**.

    ![لقطة شاشة لخدمة Azure Search تُبرز بيانات الاستيراد.](./media/overview-panel.png)
    
    > **ملاحظة:** في صفحة **نظرة عامة** لمورّد خدمة Azure AI Search، يوفر شريط الأدوات خيارين:  
    > - **استيراد البيانات** (تجربة كلاسيكية)  
    > - **استيراد البيانات (جديد)** (تجربة جديدة)  
    >  
    > بالإضافة إلى ذلك، تتضمن لوحة **بدء الاستخدام**أسفل قسم "نظرة عامة" زرّ **استيراد** يعيد توجيهك إلى **واجهة المستخدم الجديدة**.  
    >  
    > تشير الإرشادات الواردة في هذه الدورة التدريبية إلى **سير عمل استيراد البيانات الكلاسيكي**. لتجنّب الالتباس، تأكّد من تحديد **استيراد البيانات** من شريط الأدوات.
1. في صفحة **الاتصال ببياناتك**، في قائمة **مصدر البيانات**، حدد **Azure Blob Storage**. ثم أكمل تفاصيل مخزن البيانات بالقيم التالية:
    - **Data Source**: Azure Blob Storage
    - **اسم مصدر البيانات**: `margies-documents`
    - **البيانات المراد استخراجها**: المحتوى وبيانات التعريف
    - **وضع التحليل**: افتراضي
    - **Subscription**: *اشتراكك في Azure*
    - **سلسلة الاتصال**: 
        - تحديد **استخدام اتصال موجود**
        - حدد حساب التخزين.
        - تحديد حاوية **المستندات**
    - **مصادقة الهوية المُدارة**: لا شيء
    - **اسم الحاوية**: المستندات
    - **مجلد الكائنات الثنائية كبيرة الحجم**: *اترك هذا فارغاً*
    - **الوصف**: `Travel brochures`
1. انتقل إلى الخطوة التالية (**إضافة المهارات المعرفية**)، والتي تحتوي على ثلاثة أقسام قابلة للتوسيع يجب إكمالها.
1. في قسم **إرفاق Azure AI Services**، حدّد **مجاني (مع تحسينات محدودة**)\*.

    > **ملاحظة**: \*يمكن استخدام مورد Azure AI Services المجاني لـ Azure AI Search لفهرسة ما لا يزيد عن 20 مستندًا. في الحلول الواقعية، ينبغي إنشاء مورد Azure AI Services ضمن اشتراكك لتمكين تحسين الذكاء الاصطناعي لعدد أكبر من المستندات.

1. في القسم **إضافة إثراءات**:
    - تغيير **اسم مجموعة المهارات** إلى `margies-skillset`.
    - حدد الخيار **تمكين OCR ودمج كل النص في حقل merged_content**.
    - تأكد من تعيين **حقل بيانات المصدر** إلى **merged_content**.
    - اترك مستوى** تفاصيل الإثراء **كحقل **مصدر** الذي يتم تعيين محتويات المستند بالكامل التي تتم فهرستها؛ ولكن لاحظ أنه يمكنك تغيير ذلك لاستخراج المعلومات على مستويات أكثر دقة، مثل الصفحات أو الجمل.
    - حدد الحقول الغنية التالية:

        | المهارة المعرفية | المعلمة‬ | اسم الحقل |
        | --------------- | ---------- | ---------- |
        | **مهارات التحليل المعرفي للنصوص** | |  |
        | استخراج أسماء الأشخاص | | الأشخاص |
        | استخراج أسماء المواقع | | المواقع |
        | استخراج العبارات الرئيسية | | keyphrases |
        | **مهارات التحليل المعرفي للصور** | |  |
        | إنشاء علامات من الصور | | imageTags |
        | إنشاء تسميات توضيحية من الصور | | imageCaption |

        تحقق مرة أخرى من اختياراتك (قد يكون من الصعب تغييرها لاحقاً).

1. في قسم **حفظ التحسينات في مخزن المعلومات**، حدّد:
    - حدد خانات الاختيار التالية فقط (سيتم عرض <font color="red">خطأ</font>، وستقوم بحلّه بعد قليل):
        - **إسقاطات ملف Azure**:
            - إسقاطات الصور
        - **إسقاطات جدول Azure**:
            - المستندات
                - Key phrases
        - **إسقاطات Azure Blob**:
            - مستند
    - ضمن **سلسلة الاتصال بحساب التخزين** (أسفل <font color="red">رسائل الخطأ</font>):
        - تحديد **استخدام اتصال موجود**
        - حدد حساب التخزين.
        - حدّد حاوية **المستندات** (*هذا مطلوب فقط لتحديد حساب التخزين في واجهة المتصفح - ستُحدد لاحقًا اسم حاوية مختلفًا لأصول المعلومات المستخرجة!*)
    - تغيير **اسم الحاوية** إلى `knowledge-store`.
1. انتقل إلى الخطوة التالية (**تخصيص الفهرس الهدف**)، حيث ستقوم بتحديد الحقول للفهرس الخاص بك. 
1. تغيير** اسم الفهرس** إلى `margies-index`.
1. تأكد من تعيين **المفتاح** على **metadata_storage_path**، واترك **اسم المقترح** فارغًا، وتحقق من أن **وضع البحث** مضبوط على **analyzingInfixMatching**.
1. قم بإجراء التغييرات التالية على حقول الفهرس، مع ترك جميع الحقول الأخرى بإعداداتها الافتراضية (**مهم**: قد تحتاج إلى التمرير إلى اليمين لرؤية الجدول بالكامل):

    | اسم الحقل | قابل للاسترداد | قابل للتصفية | قابل للفرز | قابلة لتشكيل الواجهة | قابل للبحث |
    | ---------- | ----------- | ---------- | -------- | --------- | ---------- |
    | metadata_storage_size | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | | |
    | metadata_storage_last_modified | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | | |
    | metadata_storage_name | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; |
    | المواقع | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | | | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; |
    | الأشخاص | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | | | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; |
    | keyphrases | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; | | | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004; |

    تحقق جيدًا من اختياراتك، مع إيلاء اهتمام خاص للتأكد من تحديد الخيارات **Retrievable**، و**Filterable**، و**Sortable**، و**Facetable**، و**Searchable** بشكل صحيح لكل حقل (قد يصعب تعديلها لاحقًا).

1. انتقل إلى الخطوة التالية (**إنشاء مفهرس**)، حيث ستقوم بإنشاء المفهرس وجدولته.
1. تغيير **اسم المفهرس** إلى `margies-indexer`.
1. اترك **الجدول** معيناً على **مرة واحدة**.
1. حدد **إرسال** لإنشاء مصدر البيانات ومجموعة المهارات والفهرس والمفهرس. يتم تشغيل المفهرس تلقائياً ويقوم بتشغيل خط أنابيب الفهرسة، والذي:
    - يستخرج محتويات وحقول بيانات تعريف الوثيقة من مصدر البيانات
    - يدير مجموعة مهارات المهارات المعرفية لإنشاء حقول إضافية غنية
    - يعين الحقول المستخرجة إلى الفهرس.
    - حفظ أصول البيانات المستخرجة في مخزن المعلومات.
1. في جزء التنقل على اليمين، ضمن **إدارة البحث**، اعرض صفحة **المفهرسون**، والتي يجب أن تعرض المفهرس **margies-indexer **الذي تم إنشاؤه حديثًا. انتظر بضع دقائق، ثم انقر على **&#8635; تحديث** حتى تشير **الحالة** إلى **النجاح**.

## البحث في الفهرس

الآن بعد أن أصبح لديك فهرس، يمكنك البحث فيه.

1. ارجع إلى صفحة **نظرة عامة** لمورد Azure AI Search، ومن شريط الأدوات، حدّد **مستكشف البحث**.
1. في مستكشف البحث، في مربع **سلسلة الاستعلام**، أدخل `*` (علامة نجمية واحدة)، ثم حدد **بحث**.

    يسترد هذا الاستعلام جميع المستندات في الفهرس بتنسيق JSON. افحص النتائج ولاحظ الحقول الخاصة بكل مستند، والتي تحتوي على محتوى المستند وبيانات التعريف والبيانات التي تم إثراؤها المستخلصة من المهارات المعرفية التي حددتها.

1. في قائمة **العرض**، حدد **طريقة عرض JSON** ولاحظ ظهور طلب JSON للبحث، مثل هذا:

    ```json
    {
      "search": "*",
      "count": true
    }
    ```

1. تتضمن النتائج حقل **@odata.count** في أعلى النتائج والذي يشير إلى عدد المستندات التي تم إرجاعها من قِبل البحث.

1. قم بتعديل طلب JSON ليتضمن مَعلمة **التحديد** كما هو موضح هنا:

    ```json
    {
      "search": "*",
      "count": true,
      "select": "metadata_storage_name,locations"
    }
    ```

    تشمل النتائج هذه المرة فقط اسم الملف واسم الكاتب وأي مواقع ذُكرت في محتوى المستند. اسم الملف موجود في الحقل **metadata_storage_name**، وقد تم استخراجه من المستند المصدر. تم إنشاء حقل **المواقع** باستخدام إحدى مهارات الذكاء الاصطناعي.

1. الآن جرب سلسلة الاستعلام التالية:

    ```json
    {
      "search": "New York",
      "count": true,
      "select": "metadata_storage_name,keyphrases"
    }
    ```

    يبحث هذا البحث عن المستندات التي تشير إلى "نيويورك" في أي من الحقول القابلة للبحث، ويعيد اسم الملف والعبارات الرئيسية في المستند.

1. دعنا نجرب استعلام آخر:

    ```json
    {
        "search": "New York",
        "count": true,
        "select": "metadata_storage_name,keyphrases",
        "filter": "metadata_storage_size lt 380000"
    }
    ```

    يعرض هذا الاستعلام اسم الملف والعبارات الرئيسية لأي مستندات تذكر "نيويورك" ويقل حجمها عن 380,000 بايت.

## إنشاء تطبيق بحث للعميل

الآن بعد أن أصبح لديك فهرس مفيد، يمكنك استخدامه من تطبيق عميل. يمكنك القيام بذلك عن طريق استخدام واجهة REST، وإرسال الطلبات وتلقي الاستجابات بتنسيق JSON عبر HTTP؛ أو يمكنك استخدام مجموعة أدوات تطوير البرامج (SDK) للغة البرمجة المفضلة لديك. سنستخدم SDK، في هذا التمرين.

> **ملاحظة**: يمكنك اختيار استخدام SDK إما لـ **C#** أو **Python**. في الخطوات الواردة أدناه، نفذ الإجراءات المناسبة للغتك المفضلة.

### الحصول على نقطة النهاية والمفاتيح لمورد البحث خاصتك

1. في مدخل Microsoft Azure، أغلِق صفحة مستكشف البحث وارجع إلى صفحة **نظرة عامة** الخاصة بمورد Azure AI Search لديك.

    يُرجى ملاحظة قيمة عنوان **Url**، والتي ينبغي أن تكون بصيغة مماثلة لـ **https://*your_resource_name*.search.windows.net**. هذه هي نقطة النهاية لمورد البحث لديك.

1. في جزء التنقل على اليمين، قم بتوسيع **الإعدادات** واعرض صفحة **المفاتيح**.

    يُرجى ملاحظة أن هناك مفتاحين **للمسؤول** ومفتاح **استعلام** واحدًا. *يتم استخدام مفتاح المسؤول* لإنشاء موارد البحث وإدارتها؛ ويتم استخدام مفتاح*الاستعلام* بواسطة تطبيقات العميل التي تحتاج فقط إلى إجراء استعلامات البحث.

    *ستحتاج إلى نقطة النهاية ومفتاح **الاستعلام** لتطبيق العميل الخاص بك.*

### الاستعداد لاستخدام Azure AI Search SDK

1. استخدم الزر **[\>_]** الموجود على يسار شريط البحث أعلى مدخل Microsoft Azure لإنشاء Cloud Shell جديدة في مدخل Microsoft Azure، وتحديد بيئة ***PowerShell*** دون مساحة تخزين في اشتراكك.

    يوفّر Cloud Shell واجهة سطر الأوامر في الجزء الموجود في أسفل بوابة Azure. يمكنك تغيير حجم هذا الجزء أو تكبيره لتسهيل العمل فيه. في البداية، ستحتاج إلى عرض كلٍّ من Cloud Shell ومدخل Microsoft Azure معًا، (حتى تتمكن من العثور على نقطة النهاية والمفتاح المطلوبين ونسخهما).

1. في شريط أدوات Cloud Shell، في قائمة **الإعدادات**، حدد **الانتقال إلى الإصدار الكلاسيكي** (هذا مطلوب لاستخدام محرر التعليمات البرمجية).

    **<font color="red">تأكد من التبديل إلى الإصدار الكلاسيكي من cloud shell قبل المتابعة.</font>**

1. في جزء Cloud Shell، أدخل الأوامر التالية لاستنساخ مستودع GitHub الذي يحتوي على ملفات التعليمات البرمجية لهذا التمرين (اكتب الأمر أو انسخه إلى الحافظة ثم انقر بزر الماوس الأيمن في سطر الأوامر وقم بلصقه كنص عادي):

    ```
   rm -r mslearn-ai-info -f
   git clone https://github.com/microsoftlearning/mslearn-ai-information-extraction mslearn-ai-info
    ```

    > **تلميح**: أثناء إدخال الأوامر في CloudShell، قد يشغل الإخراج كمية كبيرة من مساحة المخزن المؤقت للشاشة. يمكنك مسح الشاشة عن طريق إدخال الأمر `cls` لتسهيل التركيز على كل مهمة.

1. بعد استنساخ مخزن بيانات خاصة، انتقل إلى المجلد الذي يحتوي على ملفات التعليمات البرمجية لتطبيق الدردشة:

    ```
   cd mslearn-ai-info/Labfiles/knowledge/python
   ls -a -l
    ```

1. ثبِّت حزمة Azure AI Search SDK وحزمة Azure Identity عن طريق تشغيل الأوامر التالية:

    ```
   python -m venv labenv
   ./labenv/bin/Activate.ps1
   pip install -r requirements.txt azure-identity azure-search-documents==11.5.1
    ```

1. شغِّل الأمر التالي لتحرير ملف التكوين الخاص بتطبيقك:

    ```
   code .env
    ```

    يتم فتح ملف التكوين في محرر التعليمات البرمجية.

1. قم بتعديل ملف التكوين لاستبدال قيم العناصر النائبة التالية:

    - **your_search_endpoint** (*استبدلها بنقطة النهاية لمورد Azure AI Search الخاص بك*)
    - **your_query_key** *(استبدلها بمفتاح الاستعلام لمورد Azure AI Search الخاص بك*)
    - **your_index_name** (*استبدلها باسم الفهرس الخاص بك، والذي يجب أن يكون `margies-index`*)

1. عند تحديث العناصر النائبة، استخدم الأمر **CTRL+S** لحفظ الملف، ثم استخدم الأمر **CTRL+Q** لإغلاقه.

    > **تلميح**: الآن بعد أن قمتَ بنسخ نقطة النهاية والمفتاح من مدخل Microsoft Azure، قد تريد تكبير جزء Cloud Shell لتسهيل العمل فيه.

1. شغّل الأمر التالي لفتح ملف التعليمات البرمجية الخاص بتطبيقك:

    ```
   code search-app.py
    ```

    يتم فتح ملف التعليمات البرمجية في محرر التعليمات البرمجية.

1. راجع التعليمات البرمجية، ولاحظ أنها تنفّذ الإجراءات التالية:

    - استرداد إعدادات التكوين لمورد Azure AI Search والفهرس من ملف التكوين الذي قمت بتحريره.
    - إنشاء **SearchClient** باستخدام نقطة النهاية، والمفتاح، واسم الفهرس للاتصال بخدمة البحث.
    - يطالَب المستخدم بإدخال استعلام البحث (حتى يقوم بإدخال كلمة "quit")
    - البحث في الفهرس باستخدام الاستعلام، وإرجاع الحقول التالية (مرتّبة حسب metadata_storage_name):
        - metadata_storage_name
        - المواقع
        - الأشخاص
        - keyphrases
    - تحليل نتائج البحث المُعادة لعرض الحقول التي تم إرجاعها لكل مستند في مجموعة النتائج.

1. أغلِق جزء محرر التعليمات البرمجية (*CTRL+Q*)، مع إبقاء جزء وحدة تحكم سطر أوامر Cloud Shell مفتوحًا
1. أدخِل الأمر التالي لتشغيل التطبيق:

    ```
   python search-app.py
    ```

1. عند المطالبة، أدخِل استعلامًا مثل `London` واعرض النتائج.
1. جرّب استعلامًا آخر، مثل `flights`.
1. عند الانتهاء من اختبار التطبيق، أدخِل `quit` لإغلاقه.
1. أغلِق Cloud Shell، وعُد إلى مدخل Microsoft Azure.

## عرض مخزن المعلومات

بعد تشغيل مفهرس يستخدم مجموعة مهارات لإنشاء مخزن معلومات، يتم الحفاظ على استمرار البيانات التي تم إثراؤها والمستخرجة بواسطة عملية الفهرسة في إسقاطات مخزن المعلومات.

### عرض إسقاطات العنصر

تتكون احتمالات *العنصر* المحددة في مجموعة المهارات الخاصة بـ Margie Travel من ملف JSON لكل وثيقة مفهرسة. يتم تخزين هذه الملفات في حاوية blob في حساب Azure Storage المحدد في تعريف مجموعة المهارات.

1. في مدخل Microsoft Azure، اعرض حساب تخزين Azure الذي أنشأته مسبقًا.
1. حدد علامة التبويب **مستعرض التخزين** (في الجزء الموجود على اليسار) لعرض حساب التخزين في واجهة مستكشف التخزين في مدخل Microsoft Azure.
1. عليك توسيع **حاويات كائن ثنائي كبير الحجم** لعرض الحاويات في حساب التخزين. بالإضافة إلى حاوية **المستندات** حيث يتم تخزين البيانات المصدر، يجب أن تكون هناك حاويتان جديدتان: **knowledge-store** و**margies-skillset-image-projection**. تم إنشاؤها بواسطة عملية الفهرسة.
1. حدد حاوية **knowledge-store**. يجب أن تحتوي على مجلد لكل مستند مفهرس.
1. افتح أيًّا من المجلدات، ثم حدّد ملف **objectprojection.json** الموجود بداخله، واستخدم الزر **تنزيل** في شريط الأدوات لتنزيله وفتحه. يحتوي كل ملف JSON على تمثيل للمستند المفهرس، بما في ذلك البيانات المحسّنة والمستخرجة بواسطة مجموعة المهارات كما هو موضح هنا (بتنسيق تسهل قراءته).

    ```json
    {
        "metadata_storage_content_type": "application/pdf",
        "metadata_storage_size": 388622,
        "<more_metadata_fields>": "...",
        "key_phrases":[
            "Margie’s Travel",
            "Margie's Travel",
            "best travel experts",
            "world-leading travel agency",
            "international reach"
            ],
        "locations":[
            "Dubai",
            "Las Vegas",
            "London",
            "New York",
            "San Francisco"
            ],
        "image_tags":[
            "outdoor",
            "tree",
            "plant",
            "palm"
            ],
        "more fields": "..."
    }
    ```

تمكّنك القدرة على إنشاء إسقاطات *عناصر* مثل هذه من إنشاء كائنات بيانات محسّنة يمكن دمجها ضمن حل تحليلات بيانات مؤسسية.

### عرض إسقاطات الملف

إن احتمالات *الملفات* المعرفة في مجموعة المهارات تنشئ ملفات JPEG لكل صورة جرى استخراجها من المستندات خلال عملية الفهرسة.

1. في واجهة *مستعرض التخزين* في مدخل Microsoft Azure، حدّد حاوية الكائنات الثنائية الكبيرة الخاصة بـ **margies-skillset-image-projection**. تحتوي هذه الحاوية على مجلد لكل مستند يحتوي على صور.
2. افتح أي من المجلدات واعرض محتوياته - يحتوي كل مجلد على ملف .jpg \* واحد على الأقل.
3. افتح أيًّا من ملفات الصور، وقم بتنزيله وعرضه لرؤية الصور.

القدرة على إنشاء احتمالات *ملف* مثل هذا تجعل الفهرسة طريقة فعالة لاستخراج الصور المضمنة من حجم كبير من المستندات.

### عرض إسقاطات الجدول

تشكل احتمالات *الجدول* المحددة في مجموعة المهارات مخططًا ارتباطيًا للبيانات الثرية.

1. في واجهة *مستعرض التخزين* في مدخل Microsoft Azure، عليك توسيع **الجداول**.
2. حدّد جدول **margiesSkillsetDocument** لعرض البيانات. يحتوي هذا الجدول على صف لكل مستند تمت فهرسته:
3. اعرض جدول **margiesSkillsetKeyPhrases**، الذي يحتوي على صف لكل عبارة أساسية مستخرجة من المستندات.

تمكّنك القدرة على إنشاء إسقاطات *الجدول* من إنشاء حلول تحليلية وتقارير للاستعلام عن المخطط الارتباطي. يمكن استخدام الأعمدة الأساسية التي تم إنشاؤها تلقائيًا للانضمام إلى الجداول في الاستعلامات - على سبيل المثال، لإرجاع جميع العبارات الأساسية من مستند معين.

## التنظيف

الآن بعد أن أكملت التمرين، احذف جميع الموارد التي لم تعد بحاجة إليها. احذف موارد Azure:

1. في **مدخل Azure**، حدد "Resource groups".
1. حدد مجموعة الموارد التي لا تحتاج إليها، ثم حدد **حذف مجموعات الموارد**.

## مزيد من المعلومات

للتعرّف على المزيد حول Azure AI Search، راجع [وثائق Azure AI Search](https://docs.microsoft.com/azure/search/search-what-is-azure-search).
